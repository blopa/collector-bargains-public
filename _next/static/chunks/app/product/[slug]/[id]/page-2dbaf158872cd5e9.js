(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7160],{14395:(e,s,t)=>{Promise.resolve().then(t.bind(t,91128))},5651:(e,s,t)=>{"use strict";t.d(s,{gk:()=>i,wc:()=>l});var r=t(95155),a=t(54203);function l(e){var s;let{product:t,minPrice:l,msrp:i,discount:n,rating:d,reviewCount:c,brandName:o,productCategory:m,bestDeal:u,baseUrl:x,slug:p}=e,f=t.image?t.image.startsWith("http")?t.image:"".concat(x).concat(t.image):"".concat(x,"/placeholder.svg"),h=t.releaseDate?new Date(t.releaseDate).toISOString():void 0,j={"@context":"https://schema.org","@type":"Product",name:t.name,description:t.description||"".concat(t.name," - Find the best deals and compare prices."),image:f,sku:t.sku||t.id,mpn:t.model||t.id,...t.barcode&&{gtin:t.barcode},..."N/A"!==o&&{brand:{"@type":"Brand",name:o}},...h&&{releaseDate:h},category:m,offers:{"@type":"AggregateOffer",priceCurrency:"USD",lowPrice:l,highPrice:i,offerCount:(null===(s=t.retailerPrices)||void 0===s?void 0:s.length)||1,...u&&u.url&&{url:u.url},availability:"https://schema.org/InStock"},...c>0&&{aggregateRating:{"@type":"AggregateRating",ratingValue:d,reviewCount:c,bestRating:5,worstRating:1}}};return(0,r.jsx)(a.default,{id:"product-jsonld",type:"application/ld+json",children:JSON.stringify(j)})}function i(e){let{items:s,baseUrl:t}=e,l={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:s.map((e,s)=>({"@type":"ListItem",position:s+1,name:e.name,item:"".concat(t).concat(e.url)}))};return(0,r.jsx)(a.default,{id:"breadcrumb-jsonld",type:"application/ld+json",children:JSON.stringify(l)})}},97301:(e,s,t)=>{"use strict";t.d(s,{X:()=>n});var r=t(95155),a=t(12115),l=t(5565),i=t(29602);let n=(0,a.memo)(function(e){let{product:s,width:t=600,height:n=600,className:d}=e,c=s.image,o="/products/".concat(s.id,"/image.jpg"),m="/placeholder.svg",u=[...c?[c]:[],o,m],[x,p]=(0,a.useState)(u),[f,h]=(0,a.useState)(0);(0,a.useEffect)(()=>{let e=!0;return(0,i.jt)("images/".concat(s.id),"images/".concat(s.id)).then(s=>{e&&(p([...c?[c]:[],o,...(Array.isArray(s.data)?s.data:[]).sort((e,s)=>{var t,r;return(null!==(t=e.order)&&void 0!==t?t:0)-(null!==(r=s.order)&&void 0!==r?r:0)}).map(e=>e.url),m]),h(0))}).catch(()=>{}),()=>{e=!1}},[s.id,c,o,m]);let j=x[f];return(0,r.jsx)(l.default,{src:j,alt:s.name,width:t,height:n,className:d,onError:()=>{h(e=>e<x.length-1?e+1:e)},loading:"lazy"},j)})},2776:(e,s,t)=>{"use strict";t.d(s,{_:()=>i});var r=t(95155),a=t(12115),l=t(5565);function i(e){let{retailer:s,width:t=600,height:i=600,className:n,withLink:d=!1}=e,[c,o]=(0,a.useState)("/retailers/".concat(s.id,"/icon.png"));return(0,r.jsx)("div",{className:"bg-white inline-block",children:(0,r.jsx)(d?"a":"div",{...d?{href:"/retailer/".concat(s.slug),rel:"noopener noreferrer"}:{},children:(0,r.jsx)(l.default,{src:c,alt:s.name,width:t,height:i,className:n,onError:()=>{o("/placeholder.svg")}})})})}},97754:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var r=t(95155);t(12115);var a=t(31027),l=t(29602);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(i({variant:t}),s),...a})}},19393:(e,s,t)=>{"use strict";t.d(s,{$:()=>c});var r=t(95155),a=t(12115),l=t(12317),i=t(31027),n=t(29602);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:t,variant:a,size:i,asChild:c=!1,...o}=e,m=c?l.DX:"button";return(0,r.jsx)(m,{className:(0,n.cn)(d({variant:a,size:i,className:t})),ref:s,...o})});c.displayName="Button"},52107:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>n,wL:()=>m});var r=t(95155),a=t(12115),l=t(29602);let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});i.displayName="Card";let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});n.displayName="CardHeader";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent";let m=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})});m.displayName="CardFooter"},3616:(e,s,t)=>{"use strict";t.d(s,{G7:()=>c,L$:()=>u,h_:()=>x,oI:()=>o,uB:()=>d,xL:()=>m});var r=t(95155),a=t(12115),l=t(7859),i=t(20853),n=t(29602);t(10705);let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.uB,{ref:s,className:(0,n.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...a})});d.displayName=l.uB.displayName;let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsxs)("div",{className:"flex items-center border-b px-3",children:[(0,r.jsx)(i.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,r.jsx)(l.uB.Input,{ref:s,className:(0,n.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...a})]})});c.displayName=l.uB.Input.displayName;let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.uB.List,{ref:s,className:(0,n.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...a})});o.displayName=l.uB.List.displayName;let m=a.forwardRef((e,s)=>(0,r.jsx)(l.uB.Empty,{ref:s,className:"py-6 text-center text-sm",...e}));m.displayName=l.uB.Empty.displayName;let u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.uB.Group,{ref:s,className:(0,n.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...a})});u.displayName=l.uB.Group.displayName,a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.uB.Separator,{ref:s,className:(0,n.cn)("-mx-1 h-px bg-border",t),...a})}).displayName=l.uB.Separator.displayName;let x=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.uB.Item,{ref:s,className:(0,n.cn)("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...a})});x.displayName=l.uB.Item.displayName},10705:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>u,Es:()=>p,L3:()=>f,c7:()=>x,lG:()=>d,rr:()=>h,zM:()=>c});var r=t(95155),a=t(12115),l=t(66217),i=t(40767),n=t(29602);let d=l.bL,c=l.l9,o=l.ZL;l.bm;let m=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a})});m.displayName=l.hJ.displayName;let u=a.forwardRef((e,s)=>{let{className:t,children:a,...d}=e;return(0,r.jsxs)(o,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(l.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[a,(0,r.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.UC.displayName;let x=e=>{let{className:s,...t}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};x.displayName="DialogHeader";let p=e=>{let{className:s,...t}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};p.displayName="DialogFooter";let f=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...a})});f.displayName=l.hE.displayName;let h=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});h.displayName=l.VY.displayName},90800:(e,s,t)=>{"use strict";t.d(s,{AM:()=>n,Wv:()=>d,hl:()=>c});var r=t(95155),a=t(12115),l=t(80532),i=t(29602);let n=l.bL,d=l.l9,c=a.forwardRef((e,s)=>{let{className:t,align:a="center",sideOffset:n=4,...d}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsx)(l.UC,{ref:s,align:a,sideOffset:n,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...d})})});c.displayName=l.UC.displayName},92694:(e,s,t)=>{"use strict";t.d(s,{w:()=>n});var r=t(95155),a=t(12115),l=t(90434),i=t(29602);let n=a.forwardRef((e,s)=>{let{className:t,orientation:a="horizontal",decorative:n=!0,...d}=e;return(0,r.jsx)(l.b,{ref:s,decorative:n,orientation:a,className:(0,i.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",t),...d})});n.displayName=l.b.displayName},47828:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var r=t(95155),a=t(29602);function l(e){let{className:s,...t}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",s),...t})}},63669:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>n});var r=t(95155),a=t(12115),l=t(58629),i=t(29602);let n=l.bL,d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.B8,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});d.displayName=l.B8.displayName;let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.l9,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});c.displayName=l.l9.displayName;let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.UC,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});o.displayName=l.UC.displayName},86756:(e,s,t)=>{"use strict";t.d(s,{ShippingCountryProvider:()=>o,s:()=>m});var r=t(95155),a=t(12115),l=t(2806),i=t(29602),n=t(65494),d=t(41477);let c=(0,a.createContext)(void 0);function o(e){let{children:s}=e,{currentCountries:t}=(0,d.S)(),[o,m]=(0,a.useState)((null==l?void 0:l.data)||[]),[u,x]=(0,a.useState)(null),[p,f]=(0,a.useState)(!0),h=(0,a.useCallback)(e=>{x(e),(0,i.lz)(n.N4,e.id,365)},[]);return(0,a.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get(n.e_),s=null;if(e){let t=o.find(s=>s.code===e);t&&(s=t)}else{let e=(0,i.dJ)(n.N4);e&&(s=o.find(s=>s.id===e)||null)}s&&h(s),f(!1)},[o,h]),(0,a.useEffect)(()=>{!u&&t[0]&&h(t[0])},[u,t,h]),(0,r.jsx)(c.Provider,{value:{countries:o,shippingCountry:u,setShippingCountry:h,loading:p},children:s})}function m(){let e=(0,a.useContext)(c);if(void 0===e)throw Error("useShippingCountry must be used within a ShippingCountryProvider");return e}},83737:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var r=t(63626),a=t(29602),l=t(12115),i=t(41477);let n=()=>{var e;let{currentCurrency:s}=(0,r.H)(),{currentCountries:t}=(0,i.S)(),[n,d]=(0,l.useState)({}),c=(null===(e=t[0])||void 0===e?void 0:e.code)||"NL";(0,l.useEffect)(()=>{d({})},[s]);let o=(0,l.useCallback)(async e=>{if(!s||e.toLowerCase()===s.code.toLowerCase())return 1;try{var t;let r=await (0,a.$4)(e),l=null===(t=r[e.toLowerCase()])||void 0===t?void 0:t[s.code.toLowerCase()];if(void 0!==l)return d(s=>({...s,[e.toLowerCase()]:l})),l}catch(e){console.error("Failed to load conversion rate:",e)}return 1},[s]);return(0,l.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EUR",r=e;if(s&&t.toLowerCase()!==s.code.toLowerCase()){let l=n[t.toLowerCase()];if(void 0!==l)return r=e*l,(0,a.$g)(r,s.code,c);o(t)}return(0,a.$g)(e,t,c)},[n,c,s,o])}},72749:(e,s,t)=>{"use strict";t.d(s,{dj:()=>u,oR:()=>m});var r=t(12115);let a=0,l=new Map,i=e=>{if(l.has(e))return;let s=setTimeout(()=>{l.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,s)},n=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},d=[],c={toasts:[]};function o(e){c=n(c,e),d.forEach(e=>{e(c)})}function m(e){let{...s}=e,t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,s]=r.useState(c);return r.useEffect(()=>(d.push(s),()=>{let e=d.indexOf(s);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},91128:(e,s,t)=>{"use strict";t.d(s,{default:()=>eb});var r=t(95155),a=t(48173),l=t.n(a),i=t(5565),n=t(12115),d=t(20591),c=t(97754),o=t(19393),m=t(52107),u=t(63669),x=t(16075),p=t(29602),f=t(65494),h=t(41477),j=t(21071),g=t(72749);function N(e){let{url:s}=e,{countries:t,regions:a}=(0,h.S)(),{t:l}=(0,j.c)(),{toast:i}=(0,g.dj)(),n=async()=>{let e=new URL(s,window.location.origin),r=(0,p.dJ)(f.G0);r&&e.searchParams.append(f.l1,r);let n=(0,p.dJ)(f.d7);n&&e.searchParams.append(f.Ax,n);let d=JSON.parse((0,p.dJ)(f.kX)||"[]"),c=(0,p.dJ)(f.N4);if(c){let s=t.find(e=>e.id===c);s&&s.code&&e.searchParams.append(f.e_,s.code)}if(1===d.length){let s=t.find(e=>e.id===d[0]);s&&s.code&&e.searchParams.append(f.jO,s.code)}else{let s=(0,p.dJ)(f.Sg),t=a.find(e=>e.id===s);t&&t.code&&e.searchParams.append(f.R5,t.code)}if(navigator.share)try{await navigator.share({title:document.title,url:e.toString()})}catch(e){console.error("Error sharing:",e)}else try{await navigator.clipboard.writeText(e.toString()),i({title:l("common.success"),description:l("product.link_copied"),variant:"default"})}catch(e){console.error("Error copying to clipboard:",e),i({title:l("common.error"),description:l("product.copy_failed"),variant:"destructive"})}};return(0,r.jsxs)(o.$,{onClick:n,variant:"outline",size:"icon",className:"rounded-full",children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:l("product.share")})]})}var v=t(58581),b=t(24817),y=t(15255),w=t(12800),_=t(66963),E=t(27112),S=t(86354),k=t(16161),R=t(62523),C=t(83737);function A(e){let{productId:s}=e,{t}=(0,j.c)(),{currentCountries:a}=(0,h.S)(),[l,i]=(0,n.useState)("6M"),[d,c]=(0,n.useState)([]),[o,m]=(0,n.useState)({}),[u,x]=(0,n.useState)(!0),[f,g]=(0,n.useState)([]),[N,A]=(0,n.useState)("all"),[L,I]=(0,n.useState)(null),O=(0,C.A)();(0,n.useEffect)(()=>{!async function(){x(!0);try{let e;if(R.Ro)e=await (0,p.jt)("price-history/".concat(s),"price-history/".concat(s));else{let t=await fetch("/api/products/".concat(s,"/price-history"));if(!t.ok){console.error("Failed to fetch price history:",await t.text()),c([]);return}let{data:r}=await t.json();e={data:r}}let t=(function(e,s){if("ALL"===s)return e;let t=new Date,r=new Date;switch(s){case"1M":r.setMonth(t.getMonth()-1);break;case"3M":r.setMonth(t.getMonth()-3);break;case"6M":r.setMonth(t.getMonth()-6);break;case"1Y":r.setFullYear(t.getFullYear()-1)}return e.filter(e=>new Date(e.date)>=r)})(e.data,l).map(e=>{let s=e.prices.filter(e=>!a||!(a.length>0)||a.some(s=>s.code===e.countryCode));return{...e,prices:s}}).filter(e=>e.prices.length>0),r=t.map(e=>{let s={date:e.date};return e.prices.forEach(e=>{s[e.retailerId]=e.price}),s}),i={};t.forEach(e=>{e.prices.forEach(e=>{i[e.retailerId]=e.retailerName})}),m(i),c(r),!L&&Object.keys(i).length>0&&I(Object.keys(i)[0])}catch(e){console.error("Error fetching price history:",e),c([])}finally{x(!1)}}()},[s,l,a]);let M=(0,n.useMemo)(()=>Object.keys(o),[o]),D=["#22c55e","#8b5cf6","#f97316","#3b82f6","#ef4444","#facc15","#34d399","#6366f1","#f43f5e","#4ade80","#a78bfa","#fb923c","#60a5fa","#fbbf24","#f472b6","#a5b4fc"],P=(0,n.useMemo)(()=>L?d.map(e=>{var s;let{date:t,...r}=e;return{date:t,[L]:null!==(s=r[L])&&void 0!==s?s:null}}):[],[d,L]),T=(0,n.useMemo)(()=>0===d.length||0===M.length?[]:d.map(e=>{let{date:s,...t}=e,r=0,a=0;for(let e of M)"number"==typeof t[e]&&(r+=t[e],a++);return{date:s,avgPrice:a>0?r/a:null}}),[d,M]);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"flex justify-end gap-2",children:["1M","3M","6M","1Y","ALL"].map(e=>(0,r.jsx)("button",{onClick:()=>i(e),className:"px-3 py-1 text-sm rounded-full ".concat(l===e?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"),children:t("priceHistory.".concat(e))},e))}),(0,r.jsxs)("div",{className:"flex space-x-4 border-b pb-2",children:[(0,r.jsx)("button",{onClick:()=>A("all"),className:"px-4 py-1 ".concat("all"===N?"border-b-2 border-primary font-semibold":""),children:t("priceHistory.allRetailersTab")}),(0,r.jsx)("button",{onClick:()=>A("individual"),className:"px-4 py-1 ".concat("individual"===N?"border-b-2 border-primary font-semibold":""),children:t("priceHistory.singleRetailerTab")}),(0,r.jsx)("button",{onClick:()=>A("aggregated"),className:"px-4 py-1 ".concat("aggregated"===N?"border-b-2 border-primary font-semibold":""),children:t("priceHistory.aggregatedTab")})]}),"individual"===N&&M.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("label",{htmlFor:"retailerSelect",className:"text-sm font-medium",children:[t("priceHistory.chooseRetailer"),":"]}),(0,r.jsx)("select",{id:"retailerSelect",value:L||"",onChange:e=>I(e.target.value),className:"border rounded px-2 py-1 text-sm",children:M.map(e=>(0,r.jsx)("option",{value:e,children:o[e]||e},e))})]}),(0,r.jsx)("div",{className:"h-[400px] w-full",children:u?(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:t("priceHistory.loading")}):0===d.length?(0,r.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:t("priceHistory.no_history")}):(0,r.jsx)(v.u,{width:"100%",height:"100%",children:(0,r.jsxs)(b.b,{data:"all"===N?d:"individual"===N?P:T,margin:{top:5,right:30,left:20,bottom:5},children:[(0,r.jsx)(y.d,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,r.jsx)(w.W,{dataKey:"date",tick:{fontSize:12},tickMargin:10}),(0,r.jsx)(_.h,{tickFormatter:e=>O(parseFloat(e)),tick:{fontSize:12},tickMargin:10}),(0,r.jsx)(E.m,{formatter:e=>[O(parseFloat("".concat(e))),void 0],labelFormatter:e=>t("priceHistory.tooltip_date",{date:e}),contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.75)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px"},labelStyle:{color:"#fff"}}),"all"===N&&(0,r.jsx)(S.s,{onClick:e=>{let{dataKey:s}=e;g(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s])},formatter:(e,s)=>{let{dataKey:t,color:a}=s,l=f.includes(t);return(0,r.jsx)("span",{style:{color:l?"#999":a},children:o[t]||t})}}),"all"===N&&M.map((e,s)=>{let t=f.includes(e);return(0,r.jsx)(k.N,{connectNulls:!0,type:"monotone",dataKey:e,name:o[e],stroke:D[s%D.length],strokeWidth:2,dot:{r:4},activeDot:{r:6},hide:t},e)}),"individual"===N&&L&&(0,r.jsx)(k.N,{type:"monotone",dataKey:L,name:o[L],stroke:D[0],strokeWidth:2,dot:{r:4},activeDot:{r:6},connectNulls:!0}),"aggregated"===N&&(0,r.jsx)(k.N,{type:"monotone",dataKey:"avgPrice",name:t("priceHistory.averagePriceLabel"),stroke:D[2],strokeWidth:2,dot:{r:4},activeDot:{r:6},connectNulls:!0})]})})}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground text-center mt-2",children:t("priceHistory.note")})]})}var L=t(66889),I=t(35765),O=t(27934),M=t(1895),D=t(2776),P=t(86756);function T(e){let{productId:s}=e,{t}=(0,j.c)(),[a,i]=(0,n.useState)([]),[d,m]=(0,n.useState)(!0),{currentCountries:u,countries:x}=(0,h.S)(),{shippingCountry:f}=(0,P.s)(),g=(0,C.A)();(0,n.useEffect)(()=>{!async function(){try{m(!0);let e=[];if(R.Ro){for(let t of e=await (0,p.jt)("retailer-prices/".concat(s),"retailer-prices/".concat(s))){let e=await (0,p.jt)("retailers/".concat(t.retailerId),"retailers/".concat(t.retailerId));t.retailer=e;let s=x.find(s=>s.code===(null==e?void 0:e.countryCode));t.country=s;let r=await (0,p.jt)("retailer-shipping/".concat(t.retailerId),"retailer-shipping/".concat(t.retailerId));t.retailerShippingTable=r}i(e)}else{let t=await fetch("/api/products/".concat(s,"/retailer-prices"));if(!t.ok){console.error("Failed to fetch retailer prices",await t.text()),i([]),m(!1);return}e=await t.json();let r=u&&u.length>0?e.filter(e=>{let{retailer:s}=e;return u.some(e=>s.countryCode===e.code)}):e;i(r)}}catch(e){console.error("Error fetching retailer prices",e),i([])}finally{m(!1)}}()},[s,u,x]);let{filteredAndSortedRetailers:N,shippingPrices:v}=(0,p.Mi)(a,u,f);return d?(0,r.jsx)("div",{children:t("retailer.loading")}):a&&0!==a.length?(0,r.jsx)("div",{className:"space-y-4 relative",children:N.map((e,s)=>{let a=0===s,i=v[e.id],{currency:n}=e.country||{};return(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 p-4 rounded-xl border-2 relative ".concat(a?"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20":"border-muted"),children:[a&&(0,r.jsx)(c.E,{className:"absolute -translate-y-[28px] sm:-translate-y-[66px] md:-translate-y-[46px] lg:-translate-y-[42px] bg-primary rounded-full",children:t("retailer.best_price")}),(0,r.jsx)("div",{className:"flex-shrink-0 w-24",children:(0,r.jsx)(D._,{retailer:e.retailer,width:100,height:60,className:"h-10 w-auto object-contain",withLink:!0})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[(0,r.jsx)("div",{className:"font-medium",children:e.name}),e.coupon&&(0,r.jsx)(c.E,{variant:"outline",className:"text-xs rounded-full",children:t("retailer.coupon",{coupon:e.coupon})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[(0,r.jsx)("span",{children:e.condition}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{className:e.inStock?"text-green-600":"text-red-600",children:e.inStock?t("retailer.in_stock"):t("retailer.out_of_stock")}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(L.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:e.lastUpdated})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-primary",children:g(e.price,n)}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:null!==i?i<=0?t("retailer.free_shipping"):t("retailer.shipping",{cost:g(i,n)}):t("retailer.no_shipping_data")})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:[(0,r.jsx)(o.$,{asChild:!0,className:"w-full rounded-full",children:(0,r.jsxs)(l(),{href:e.url,target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)("span",{children:t("retailer.go_to_store")}),(0,r.jsx)(I.A,{className:"ml-2 h-4 w-4"})]})}),!R.Ro&&(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4 text-xs text-muted-foreground",children:[(0,r.jsxs)("button",{className:"flex items-center gap-1 hover:text-primary",children:[(0,r.jsx)(O.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:e.votes})]}),(0,r.jsxs)("button",{className:"flex items-center gap-1 hover:text-primary",children:[(0,r.jsx)(M.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"0"})]})]})]})]},e.id)})}):(0,r.jsx)("div",{className:"p-4 text-center text-muted-foreground",children:t("retailer.no_prices")})}var B=t(13768),z=t(9187);let F=n.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("textarea",{className:(0,p.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...a})});F.displayName="Textarea";var W=t(92694);function H(e){let{productId:s}=e,[t,a]=(0,n.useState)(""),[l,i]=(0,n.useState)([]),[d,c]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async function(){try{if(c(!0),R.Ro){let e=await (0,p.jt)("comments/".concat(s),"comments/".concat(s));i(e)}else{let e=await fetch("/api/products/".concat(s,"/comments"));if(!e.ok){console.error("Failed to fetch comments:",await e.text()),i([]),c(!1);return}let t=await e.json();i(t)}}catch(e){console.error("Error fetching comments:",e),i([])}finally{c(!1)}})()},[s]),R.Ro)?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Comments are not available in this view."})}):d?(0,r.jsx)("div",{children:"Loading comments..."}):(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 rounded-xl p-4 border-2 border-primary/10",children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:"Add a Comment"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),alert("Comment submitted: ".concat(t)),a("")},children:[(0,r.jsx)(F,{placeholder:"Share your thoughts, deals, or questions about this product...",value:t,onChange:e=>a(e.target.value),className:"mb-2 rounded-xl border-primary/20"}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(o.$,{type:"submit",disabled:!t.trim(),className:"rounded-full",children:"Post Comment"})})]})]}),(0,r.jsx)("div",{className:"space-y-6",children:0===l.length?(0,r.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No comments yet. Be the first to share your thoughts!"}):l.map(e=>(0,r.jsx)($,{comment:e},e.id))})]})}function $(e){let{comment:s}=e;return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(i.default,{src:s.user.avatar||"/placeholder.svg",alt:s.user.name,width:40,height:40,className:"rounded-full"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[(0,r.jsx)("span",{className:"font-medium",children:s.user.name}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:s.user.joined})]}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:s.date}),(0,r.jsx)("div",{className:"mt-2",children:s.content}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,r.jsxs)("button",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-primary",children:[(0,r.jsx)(O.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:s.likes})]}),(0,r.jsxs)("button",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-primary",children:[(0,r.jsx)(M.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:s.dislikes})]}),(0,r.jsxs)("button",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-primary",children:[(0,r.jsx)(B.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"Reply"})]}),(0,r.jsxs)("button",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-primary",children:[(0,r.jsx)(z.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"Report"})]})]})]})]})}),s.replies&&s.replies.length>0&&(0,r.jsx)("div",{className:"ml-12 space-y-4 pl-4 border-l",children:s.replies.map(e=>(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(i.default,{src:e.user.avatar||"/placeholder.svg",alt:e.user.name,width:32,height:32,className:"rounded-full"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[(0,r.jsx)("span",{className:"font-medium",children:e.user.name}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:e.user.joined})]}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:e.date}),(0,r.jsx)("div",{className:"mt-2",children:e.content}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,r.jsxs)("button",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-primary",children:[(0,r.jsx)(O.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:e.likes})]}),(0,r.jsxs)("button",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-primary",children:[(0,r.jsx)(M.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:e.dislikes})]}),(0,r.jsxs)("button",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-primary",children:[(0,r.jsx)(B.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"Reply"})]}),(0,r.jsxs)("button",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-primary",children:[(0,r.jsx)(z.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"Report"})]})]})]})]})},e.id))}),(0,r.jsx)(W.w,{})]})}var U=t(97301);function J(e){let{productId:s}=e,{t}=(0,j.c)(),[a,i]=(0,n.useState)([]),[d,c]=(0,n.useState)(!0),o=(0,C.A)();return((0,n.useEffect)(()=>{(async function(){try{if(c(!0),R.Ro){let e=await (0,p.jt)("similar-products/".concat(s),"similar-products/".concat(s));i(e)}else{let e=await fetch("/api/products/".concat(s,"/similar"));if(!e.ok){console.error("Failed to fetch similar products:",await e.text()),i([]),c(!1);return}let t=await e.json();i(t)}}catch(e){console.error("Error fetching similar products:",e),i([])}finally{c(!1)}})()},[s]),d)?(0,r.jsx)("div",{children:t("similar.loading")}):0===a.length?(0,r.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:t("similar.no_products")}):(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:a.map(e=>(0,r.jsx)(l(),{href:"/product/".concat(e.slug,"/").concat(e.id),children:(0,r.jsx)(m.Zp,{className:"h-full overflow-hidden transition-all hover:scale-105 border-2 border-transparent hover:border-primary/20 rounded-xl",children:(0,r.jsxs)(m.Wu,{className:"p-4",children:[(0,r.jsx)("div",{className:"bg-muted/30 p-2 rounded-lg mb-2",children:(0,r.jsx)(U.X,{product:e,width:200,height:200,className:"w-full h-48 object-cover"})}),(0,r.jsx)("h3",{className:"font-medium line-clamp-2 text-sm",children:e.name}),(0,r.jsx)("div",{className:"mt-1 font-bold text-primary",children:o(e.price,e.currency)})]})})},e.id))})}function G(e){let{productId:s}=e;return(0,n.useEffect)(()=>{let e=[s,...((0,p.dJ)(f.s4)?JSON.parse(decodeURIComponent((0,p.dJ)(f.s4)||"[]")):[]).filter(e=>e!==s)].slice(0,10);(0,p.lz)(f.s4,encodeURIComponent(JSON.stringify(e)),7)},[s]),null}var Z=t(47828);function q(){return(0,r.jsxs)("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:[(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"sticky top-24",children:[(0,r.jsx)("div",{className:"rounded-xl overflow-hidden border-2 border-primary/10 bg-muted/30 p-4",children:(0,r.jsx)(Z.E,{className:"w-full aspect-square rounded-lg"})}),(0,r.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,r.jsx)(Z.E,{className:"h-10 flex-1 rounded-full"}),(0,r.jsx)(Z.E,{className:"h-10 w-10 rounded-full"})]})]})}),(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(Z.E,{className:"h-6 w-24 rounded-full"}),(0,r.jsx)(Z.E,{className:"h-6 w-16 rounded-full"})]}),(0,r.jsx)(Z.E,{className:"h-10 w-full mb-2"}),(0,r.jsx)(Z.E,{className:"h-8 w-3/4 mb-2"}),!R.Ro&&(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,r.jsx)(Z.E,{className:"h-4 w-24"}),(0,r.jsx)(Z.E,{className:"h-4 w-32"})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)(Z.E,{className:"h-4 w-full mb-2"}),(0,r.jsx)(Z.E,{className:"h-4 w-full mb-2"}),(0,r.jsx)(Z.E,{className:"h-4 w-3/4"})]}),(0,r.jsx)("div",{className:"mt-6 grid gap-2 bg-muted/30 p-4 rounded-xl",children:[,,,,].fill(0).map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(Z.E,{className:"h-4 w-24"}),(0,r.jsx)(Z.E,{className:"h-4 w-32"})]},s))}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(Z.E,{className:"h-8 w-32"}),(0,r.jsx)(Z.E,{className:"h-6 w-24"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,r.jsx)(Z.E,{className:"h-4 w-4"}),(0,r.jsx)(Z.E,{className:"h-4 w-40"})]})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl p-6 border-2 border-primary/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(Z.E,{className:"h-4 w-24 mb-2"}),(0,r.jsx)(Z.E,{className:"h-6 w-32"})]}),(0,r.jsx)(Z.E,{className:"h-8 w-24"})]}),(0,r.jsx)(Z.E,{className:"h-10 w-full rounded-full"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(Z.E,{className:"h-1 w-6 mr-2"}),(0,r.jsx)(Z.E,{className:"h-6 w-32"})]}),(0,r.jsx)("div",{className:"grid gap-2",children:[,,,,,].fill(0).map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(Z.E,{className:"h-2 w-2 rounded-full flex-shrink-0"}),(0,r.jsx)(Z.E,{className:"h-4 w-full"})]},s))})]})]})]})}function V(){return(0,r.jsx)("div",{className:"space-y-4",children:[,,,].fill(0).map((e,s)=>(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 p-4 rounded-xl border-2 relative ".concat(0===s?"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20":"border-muted"),children:[0===s&&(0,r.jsx)(Z.E,{className:"absolute -translate-y-8 h-6 w-20 rounded-full"}),(0,r.jsx)(Z.E,{className:"flex-shrink-0 w-24 h-10"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[(0,r.jsx)(Z.E,{className:"h-5 w-32"}),Math.random()>.5&&(0,r.jsx)(Z.E,{className:"h-5 w-24 rounded-full"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs mt-1",children:[(0,r.jsx)(Z.E,{className:"h-4 w-16"}),(0,r.jsx)(Z.E,{className:"h-4 w-4"}),(0,r.jsx)(Z.E,{className:"h-4 w-24"}),(0,r.jsx)(Z.E,{className:"h-4 w-4"}),(0,r.jsx)(Z.E,{className:"h-4 w-32"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,r.jsx)(Z.E,{className:"h-6 w-24"}),(0,r.jsx)(Z.E,{className:"h-4 w-32"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:[(0,r.jsx)(Z.E,{className:"h-9 w-full sm:w-32 rounded-full"}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,r.jsx)(Z.E,{className:"h-4 w-8"}),(0,r.jsx)(Z.E,{className:"h-4 w-8"})]})]})]},s))})}function X(){return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"flex justify-end gap-2",children:["1M","3M","6M","1Y","ALL"].map(e=>(0,r.jsx)(Z.E,{className:"h-8 w-12 rounded-full"},e))}),(0,r.jsx)(Z.E,{className:"h-[400px] w-full"})]})}function Y(){return(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[,,,,].fill(0).map((e,s)=>(0,r.jsx)(m.Zp,{className:"h-full overflow-hidden border-2 border-transparent rounded-xl",children:(0,r.jsxs)(m.Wu,{className:"p-4",children:[(0,r.jsx)(Z.E,{className:"bg-muted/30 p-2 rounded-lg mb-2 h-32 w-full"}),(0,r.jsx)(Z.E,{className:"h-5 w-full mb-2"}),(0,r.jsx)(Z.E,{className:"h-5 w-24 mt-1"})]})},s))})}function K(){return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 rounded-xl p-4 border-2 border-primary/10",children:[(0,r.jsx)(Z.E,{className:"h-5 w-32 mb-2"}),(0,r.jsx)(Z.E,{className:"h-24 w-full mb-2 rounded-xl"}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(Z.E,{className:"h-9 w-32 rounded-full"})})]}),(0,r.jsx)("div",{className:"space-y-6",children:[,,,].fill(0).map((e,s)=>(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(Z.E,{className:"rounded-full h-10 w-10"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[(0,r.jsx)(Z.E,{className:"h-5 w-32"}),(0,r.jsx)(Z.E,{className:"h-4 w-24"})]}),(0,r.jsx)(Z.E,{className:"h-4 w-24 mt-1"}),(0,r.jsx)(Z.E,{className:"h-4 w-full mt-2"}),(0,r.jsx)(Z.E,{className:"h-4 w-full mt-1"}),(0,r.jsx)(Z.E,{className:"h-4 w-3/4 mt-1"}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,r.jsx)(Z.E,{className:"h-4 w-12"}),(0,r.jsx)(Z.E,{className:"h-4 w-12"}),(0,r.jsx)(Z.E,{className:"h-4 w-12"}),(0,r.jsx)(Z.E,{className:"h-4 w-12"})]})]})]})}),0===s&&(0,r.jsx)("div",{className:"ml-12 space-y-4 pl-4 border-l",children:[,,].fill(0).map((e,s)=>(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(Z.E,{className:"rounded-full h-8 w-8"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[(0,r.jsx)(Z.E,{className:"h-4 w-24"}),(0,r.jsx)(Z.E,{className:"h-3 w-20"})]}),(0,r.jsx)(Z.E,{className:"h-3 w-16 mt-1"}),(0,r.jsx)(Z.E,{className:"h-4 w-full mt-2"}),(0,r.jsx)(Z.E,{className:"h-4 w-3/4 mt-1"}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,r.jsx)(Z.E,{className:"h-3 w-10"}),(0,r.jsx)(Z.E,{className:"h-3 w-10"}),(0,r.jsx)(Z.E,{className:"h-3 w-10"}),(0,r.jsx)(Z.E,{className:"h-3 w-10"})]})]})]})},s))})]},s))})]})}var Q=t(5651),ee=t(10705),es=t(34893);let et=JSON.parse('{"fvv":1,"pageHistory":0,"fbzx":"3898253467897725729","action":"e/1FAIpQLSd5p78GS3KR6f5fhBtOSyLLNlI3Nqw7t56YijYwwLdnq-ezPw","title":"Collector Bargains Product Reports","description":null,"fields":[{"label":"issue_type","description":null,"type":"DROPDOWN","id":"1865630925","options":[{"label":"price_issue"},{"label":"data_issue"},{"label":"duplicate_issue"},{"label":"wrong_retailer_price"},{"label":"other_issue"}],"required":false},{"label":"description","description":null,"type":"LONG_ANSWER","id":"101852937","required":false},{"label":"duplicate_url","description":null,"type":"SHORT_ANSWER","id":"1420942236","required":false},{"label":"product_url","description":null,"type":"SHORT_ANSWER","id":"1091577324","required":false},{"label":"uuid","description":null,"type":"SHORT_ANSWER","id":"477096826","required":false},{"label":"retailer_slug","description":null,"type":"SHORT_ANSWER","id":"1930714321","required":false}],"fieldsOrder":{"101852937":1,"477096826":4,"1091577324":3,"1420942236":2,"1865630925":0,"1930714321":5}}');function er(e){let{id:s}=e,{register:t,options:a}=(0,es.Fb)(s),{t:l}=(0,j.c)();return(0,r.jsx)("div",{className:"mt-2 space-y-2",children:a.map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-foreground cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",value:e.label,...t(),className:"h-4 w-4 rounded border-border text-primary focus:ring-primary"}),(0,r.jsx)("span",{children:l("product.report.".concat(e.label))})]},e.label))})}function ea(e){let{id:s}=e,{register:t}=(0,es.WC)(s),{t:a}=(0,j.c)();return(0,r.jsx)("textarea",{...t(),placeholder:a("product.report.description_placeholder"),className:" min-h-[100px] w-full rounded-md border border-border bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground shadow-sm focus:outline-none focus:ring-1 focus:ring-primary "})}function el(e){let{id:s}=e,{register:t}=(0,es.kV)(s);return(0,r.jsx)("input",{type:"text",...t(),placeholder:"https://collectorbargains.com/product/...",className:" w-full rounded-md border border-border bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground shadow-sm focus:outline-none focus:ring-1 focus:ring-primary "})}function ei(e){let{id:s,retailers:t}=e,{register:a}=(0,es.kV)(s),{t:l}=(0,j.c)();return t&&t.length>0?(0,r.jsxs)("select",{...a(),className:" w-full rounded-md border border-border bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground shadow-sm focus:outline-none focus:ring-1 focus:ring-primary ",children:[(0,r.jsx)("option",{value:"",children:l("product.report.select_the_retailer")}),t.map(e=>(0,r.jsx)("option",{value:e.slug,children:e.name},e.id))]}):(0,r.jsx)("input",{type:"text",...a(),placeholder:l("product.report.select_the_retailer"),className:" w-full rounded-md border border-border bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground shadow-sm focus:outline-none focus:ring-1 focus:ring-primary "})}function en(e){let{id:s,value:t}=e,{register:a}=(0,es.kV)(s);return(0,r.jsx)("input",{type:"hidden",...a(),value:t})}function ed(e){let{productId:s,productName:t,retailers:a}=e,[l,i]=(0,n.useState)(!1),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(""),[x,p]=(0,n.useState)(!1),[f,h]=(0,n.useState)(Date.now().toString()),{t:N}=(0,j.c)(),v=(0,es.ti)({form:et}),b=v.watch("1865630925");(0,n.useEffect)(()=>{h(localStorage.getItem("fingerprint")||Date.now().toString()),u(window.location.href)},[]);let y=async e=>{c(!0);let r={productId:s,productName:t,...e};try{await v.submitToGoogleForms(r),(0,g.oR)({title:N("product.report.success_title"),description:N("product.report.success_description")}),p(!0)}catch(e){(0,g.oR)({title:N("product.report.error_title"),description:N("product.report.error_description"),variant:"destructive"})}finally{c(!1)}},w=()=>{i(!1),p(!1),v.reset()};return(0,r.jsxs)(ee.lG,{open:l,onOpenChange:i,children:[(0,r.jsx)(ee.zM,{asChild:!0,children:(0,r.jsxs)(o.$,{variant:"outline",size:"sm",className:"gap-1",children:[(0,r.jsx)(z.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:N("product.report.button")})]})}),(0,r.jsxs)(ee.Cf,{className:"sm:max-w-[500px]",children:[(0,r.jsxs)(ee.c7,{children:[(0,r.jsx)(ee.L3,{className:"text-foreground",children:N("product.report.title")}),(0,r.jsx)(ee.rr,{className:"text-muted-foreground",children:N("product.report.description",{productName:t})})]}),x?(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)("p",{className:"text-lg font-medium text-foreground",children:N("product.report.reported_thank_you")}),(0,r.jsx)(o.$,{onClick:w,children:N("common.close")})]}):(0,r.jsx)(es.RA,{...v,children:(0,r.jsx)("form",{onSubmit:v.handleSubmit(y),className:"space-y-6",children:(0,r.jsxs)("fieldset",{disabled:d,className:"space-y-6",children:[(0,r.jsx)(en,{id:"1091577324",value:m}),(0,r.jsx)(en,{id:"477096826",value:f}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-foreground",children:N("product.report.issue_type")}),(0,r.jsx)(er,{id:"1865630925"})]}),"duplicate_issue"===b&&(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-foreground",children:N("product.report.duplicate_url")}),(0,r.jsx)(el,{id:"1420942236"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:N("product.report.duplicate_url_description")})]}),"wrong_retailer_price"===b&&(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-foreground",children:N("product.report.select_the_retailer")}),(0,r.jsx)(ei,{id:"1930714321",retailers:a}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:N("product.report.select_the_retailer_with_the_wrong_price")})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-foreground",children:N("product.report.description_label")}),(0,r.jsx)(ea,{id:"101852937"})]}),(0,r.jsxs)(ee.Es,{className:"gap-2 sm:gap-0",children:[(0,r.jsx)(o.$,{type:"button",variant:"outline",onClick:w,disabled:d,children:N("common.cancel")}),(0,r.jsx)(o.$,{type:"submit",disabled:d,children:d?N("common.submitting"):N("product.report.submit")})]})]})})})]})]})}var ec=t(86122),eo=t(15800),em=t(98867),eu=t(3616),ex=t(90800);function ep(){let{t:e}=(0,j.c)(),[s,t]=(0,n.useState)(!1),{countries:a,shippingCountry:l,setShippingCountry:i,loading:d}=(0,P.s)();if(d||!a.length||!l)return null;let c="".concat(l.name," (").concat(l.currency,")");return(0,r.jsxs)(ex.AM,{open:s,onOpenChange:t,children:[(0,r.jsx)(ex.Wv,{asChild:!0,children:(0,r.jsxs)(o.$,{variant:"outline",role:"combobox","aria-expanded":s,className:"flex items-center justify-between w-[180px] rounded-full text-xs h-8 px-3",children:[(0,r.jsxs)("div",{className:"flex items-center truncate",children:[(0,r.jsx)(ec.A,{className:"mr-2 h-3 w-3 flex-shrink-0"}),(0,r.jsx)("span",{className:"truncate",children:c})]}),(0,r.jsx)(eo.A,{className:"ml-1 h-3 w-3 flex-shrink-0 opacity-50"})]})}),(0,r.jsx)(ex.hl,{className:"w-[200px] p-0",children:(0,r.jsxs)(eu.uB,{children:[(0,r.jsx)(eu.G7,{placeholder:e("country.search"),className:"h-9"}),(0,r.jsxs)(eu.oI,{className:"max-h-[300px] overflow-auto",children:[(0,r.jsx)(eu.xL,{children:e("country.not_found")}),(0,r.jsx)(eu.L$,{heading:e("country.countries"),children:a.map(e=>{let s=l.id===e.id;return(0,r.jsxs)(eu.h_,{value:e.name,onSelect:()=>(function(e){let s=a.find(s=>s.id===e);s&&(i(s),t(!1))})(e.id),className:"text-sm cursor-pointer data-[selected=true]:text-white data-[selected=true]:bg-primary",children:[(0,r.jsx)(em.A,{className:(0,p.cn)("mr-2 h-4 w-4 flex-shrink-0",s?"opacity-100":"opacity-0")}),(0,r.jsxs)("span",{className:"truncate",children:[e.name," (",e.currency,")"]})]},e.id)})})]})]})})]})}var ef=t(18474);let eh=JSON.parse('{"fvv":1,"pageHistory":0,"fbzx":"5692854596103744056","action":"e/1FAIpQLSelIFvIhjR7Cbs_uPJPCTaInGQRDPeyXA5h7K0o9o0KyFDrCw","title":"Collector Bargains Add Retailer Price","description":null,"fields":[{"label":"product_url","description":null,"type":"SHORT_ANSWER","id":"1479680155","required":false},{"label":"uuid","description":null,"type":"SHORT_ANSWER","id":"944696356","required":false},{"label":"retailer_product_url","description":null,"type":"SHORT_ANSWER","id":"1994565870","required":false}],"fieldsOrder":{"944696356":1,"1479680155":0,"1994565870":2}}');function ej(e){let{id:s,value:t}=e,{register:a}=(0,es.kV)(s);return(0,r.jsx)("input",{type:"hidden",...a(),value:t})}function eg(e){let{id:s}=e,{register:t}=(0,es.kV)(s),{t:a}=(0,j.c)();return(0,r.jsx)("input",{type:"text",...t(),placeholder:a("addRetailerPrice.retailer_product_url_label"),className:" w-full rounded-md border border-border bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground shadow-sm focus:outline-none focus:ring-1 focus:ring-primary "})}function eN(){let[e,s]=(0,n.useState)(!1),[t,a]=(0,n.useState)(!1),[l,i]=(0,n.useState)(""),[d,c]=(0,n.useState)(Date.now().toString()),{t:m}=(0,j.c)(),u=(0,es.ti)({form:eh});(0,n.useEffect)(()=>{let e=localStorage.getItem("fingerprint")||Date.now().toString();localStorage.setItem("fingerprint",e),c(e),i(window.location.href)},[]);let x=async e=>{a(!0);try{await u.submitToGoogleForms(e),(0,g.oR)({title:m("addRetailerPrice.success_title"),description:m("addRetailerPrice.success_description")}),s(!1),u.reset()}catch(e){(0,g.oR)({title:m("addRetailerPrice.error_title"),description:m("addRetailerPrice.error_description"),variant:"destructive"})}finally{a(!1)}};return(0,r.jsxs)(ee.lG,{open:e,onOpenChange:s,children:[(0,r.jsx)(ee.zM,{asChild:!0,children:(0,r.jsxs)(o.$,{variant:"outline",size:"sm",className:"gap-2",children:[(0,r.jsx)(ef.A,{className:"h-4 w-4"}),m("addRetailerPrice.submit_price")]})}),(0,r.jsxs)(ee.Cf,{className:"sm:max-w-[480px]",children:[(0,r.jsxs)(ee.c7,{children:[(0,r.jsx)(ee.L3,{children:m("addRetailerPrice.title")}),(0,r.jsx)(ee.rr,{children:m("addRetailerPrice.description")})]}),(0,r.jsx)(es.RA,{...u,children:(0,r.jsx)("form",{onSubmit:u.handleSubmit(x),className:"space-y-6",children:(0,r.jsxs)("fieldset",{disabled:t,className:"space-y-4",children:[(0,r.jsx)(ej,{id:"1479680155",value:l}),(0,r.jsx)(ej,{id:"944696356",value:d}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-foreground",children:m("addRetailerPrice.retailer_product_url_label")}),(0,r.jsx)(eg,{id:"1994565870"})]}),(0,r.jsxs)(ee.Es,{children:[(0,r.jsx)(o.$,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:t,children:m("common.cancel")}),(0,r.jsx)(o.$,{type:"submit",disabled:t,children:t?m("common.submitting"):m("addRetailerPrice.submit_price")})]})]})})})]})]})}let ev=e=>{var s;let{bestDeal:t,bestDealPrice:a,bestDealCurrency:i,bestDealShipping:n,computedMsrp:d}=e,c=(0,C.A)(),{t:m}=(0,j.c)();return(0,r.jsxs)("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl p-6 border-2 border-primary/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:m("product.best_price_at")}),(0,r.jsx)("div",{className:"font-bold text-lg",children:t?null===(s=t.retailer)||void 0===s?void 0:s.name:m("product.no_deal_available")})]}),t?(0,r.jsxs)("div",{className:"flex flex-col items-end",children:[(0,r.jsxs)("div",{className:"mb-1 flex items-center gap-2",children:[d>a&&(0,r.jsx)("span",{className:"text-lg line-through text-muted-foreground",children:c(d,i)}),(0,r.jsx)("span",{className:"text-3xl font-bold text-primary",children:c(a,i)})]}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:null!==n?n<=0?m("retailer.free_shipping"):m("retailer.shipping",{cost:c(n,i)}):m("retailer.no_shipping_data")})]}):(0,r.jsx)("div",{className:"text-3xl font-bold text-primary",children:"—"})]}),(null==t?void 0:t.url)&&t.inStock?(0,r.jsx)(l(),{href:t.url,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(o.$,{className:"w-full rounded-full",children:m("product.go_to_deal")})}):(0,r.jsx)(o.$,{className:"w-full rounded-full",disabled:!0,children:m("product.deal_not_available")})]})};function eb(e){var s,t,a,x,f,g,v;let{product:b,rating:y,reviewCount:w,productCategory:_,productCategorySlug:E,brandName:S,brandSlug:k,slug:C,features:L}=e,{t:I}=(0,j.c)(),O=(0,R.$_)(),M="".concat(O,"/product/").concat(C,"/").concat(b.id),{currentCountries:D}=(0,h.S)(),{shippingCountry:B}=(0,P.s)(),z=b.retailerPrices||[],{filteredAndSortedRetailers:F,shippingPrices:W}=(0,p.Mi)(z,D,B),$=F[0]||null,U=(null==$?void 0:$.price)||0,Z=W[null==$?void 0:$.id]||null,ee=(null==$?void 0:null===(s=$.country)||void 0===s?void 0:s.currency)||(null!==(g=null===(t=D[0])||void 0===t?void 0:t.currency)&&void 0!==g?g:"EUR"),es=D.map(e=>e.id),et=(null===(x=b.productMSRPs)||void 0===x?void 0:null===(a=x.find(e=>es.includes(e.countryId)))||void 0===a?void 0:a.price)||(null===(f=b.productMSRPs[0])||void 0===f?void 0:f.price)||U,er=et>0?Math.round((et-U)/et*100):0,ea=b.images?[...b.images].sort((e,s)=>{var t,r;return(null!==(t=e.order)&&void 0!==t?t:0)-(null!==(r=s.order)&&void 0!==r?r:0)}):[],el=b.image,ei="/products/".concat(b.id,"/image.jpg"),en="/placeholder.svg",ec=(0,n.useMemo)(()=>[...el?[el]:[],ei,...ea.map(e=>e.url),en],[el,ei,ea]),[eo,em]=(0,n.useState)(ec[0]),[eu,ex]=(0,n.useState)(new Set),ef=e=>{e!==en&&ex(s=>{if(s.has(e))return s;let t=new Set(s).add(e);return em(ec.find(e=>!t.has(e))||en),t})};return(0,r.jsxs)("div",{className:"container py-8 px-4",children:[(0,r.jsx)(Q.wc,{product:b,minPrice:U,msrp:et,discount:er,rating:y,reviewCount:w,brandName:S,productCategory:_,bestDeal:$,baseUrl:O,slug:C}),(0,r.jsx)(G,{productId:b.id}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[(0,r.jsx)(l(),{href:"/",className:"hover:text-primary",children:I("breadcrumbs.home")}),(0,r.jsx)("span",{children:"/"}),(0,r.jsx)(l(),{href:"/categories/".concat(E),className:"hover:text-primary",children:_}),(0,r.jsx)("span",{children:"/"}),(0,r.jsx)("span",{className:"text-foreground",children:b.name})]}),(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(q,{}),children:(0,r.jsxs)("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3 min-w-0",children:[(0,r.jsx)("div",{className:"lg:col-span-1 min-w-0",children:(0,r.jsxs)("div",{className:"sticky top-24 min-w-0",children:[(0,r.jsx)("div",{className:"rounded-xl overflow-hidden border-2 border-primary/10 bg-muted/30 p-4",children:(0,r.jsx)(i.default,{className:"w-full h-auto object-cover rounded-lg",src:eo,alt:b.name,width:600,height:600,onError:()=>ef(eo)})}),ea.length>0&&(0,r.jsx)("div",{className:"mt-4 flex gap-2 overflow-x-auto",children:ea.filter(e=>!eu.has(e.url)).map(e=>(0,r.jsx)("div",{onClick:()=>em(e.url),className:"w-24 h-24 flex-shrink-0 rounded-xl overflow-hidden border-2 border-primary/10 bg-muted/30 cursor-pointer",children:(0,r.jsx)(i.default,{src:e.url,alt:e.caption||b.name,width:96,height:96,className:"object-cover w-full h-full",onError:()=>ef(e.url)})},e.url))}),R.Ro?(0,r.jsxs)("div",{className:"flex justify-end mt-4 gap-2",children:[(0,r.jsx)(N,{url:M}),(0,r.jsx)(ed,{productId:b.id,productName:b.name,retailers:F.map(e=>{let{retailer:s}=e;return s})})]}):(0,r.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,r.jsxs)(o.$,{variant:"outline",className:"flex-1 rounded-full",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2"}),I("product.add_to_wishlist")]}),(0,r.jsx)(N,{url:M}),(0,r.jsx)(ed,{productId:b.id,productName:b.name,retailers:F.map(e=>{let{retailer:s}=e;return s})})]})]})}),(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[_&&(0,r.jsx)(l(),{href:"/categories/".concat(E),className:"hover:text-primary",children:(0,r.jsx)(c.E,{variant:"outline",className:"rounded-full",children:_})}),er>0&&(0,r.jsxs)(c.E,{variant:"secondary",className:"rounded-full",children:["-",er,"%"]})]}),(0,r.jsx)("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:b.name}),!R.Ro&&(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,r.jsx)("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsx)("svg",{className:"w-4 h-4 ".concat(s<Math.floor(y)?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 0 0 .95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 0 0-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 0 0-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 0 0-.364-1.118L2.98 8.72c-.783-.57-.38-1.242.588-1.81l3.461-2.53a1 1 0 0 0 .95-.69z"})},s))}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:I("product.reviews",{count:w})})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:null!==(v=b.description)&&void 0!==v?v:I("product.no_description")}),(0,r.jsx)("br",{})]})]}),(0,r.jsx)(ev,{bestDeal:$,bestDealPrice:U,bestDealCurrency:ee,bestDealShipping:Z,computedMsrp:et}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mt-4 bg-muted/30 p-3 rounded-lg",children:[(0,r.jsxs)("span",{className:"text-sm font-medium",children:[I("product.shipping_to"),":"]}),(0,r.jsx)(ep,{})]})}),(0,r.jsxs)("div",{className:"mt-6 grid gap-2 bg-muted/30 p-4 rounded-xl",children:["N/A"!==S&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-muted-foreground",children:[I("product.brand"),":"]}),k?(0,r.jsx)(l(),{href:"/brands/".concat(k),children:(0,r.jsx)("span",{className:"font-medium underline hover:no-underline",children:S})}):(0,r.jsx)("span",{className:"font-medium",children:S})]}),b.model&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-muted-foreground",children:[I("product.model"),":"]}),(0,r.jsx)("span",{className:"font-medium",children:b.model})]}),b.releaseDate&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-muted-foreground",children:[I("product.release_date"),":"]}),(0,r.jsx)("span",{className:"font-medium",children:new Date(b.releaseDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-muted-foreground",children:[I("product.availability"),":"]}),(0,r.jsx)("span",{className:"font-medium text-green-600",children:I("product.in_stock")})]}),b.franchise&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-muted-foreground",children:[I("product.franchise"),":"]}),b.franchise.slug?(0,r.jsx)(l(),{href:"/franchises/".concat(b.franchise.slug),children:(0,r.jsx)("span",{className:"font-medium underline hover:no-underline",children:b.franchise.name})}):(0,r.jsx)("span",{className:"font-medium",children:b.franchise.name})]}),b.series&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-muted-foreground",children:[I("product.series"),":"]}),b.series.slug?(0,r.jsx)(l(),{href:"/series/".concat(b.series.slug),children:(0,r.jsx)("span",{className:"font-medium underline hover:no-underline",children:b.series.name})}):(0,r.jsx)("span",{className:"font-medium",children:b.series.name})]}),b.line&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-muted-foreground",children:[I("product.line"),":"]}),b.line.slug?(0,r.jsx)(l(),{href:"/lines/".concat(b.line.slug),children:(0,r.jsx)("span",{className:"font-medium underline hover:no-underline",children:b.line.name})}):(0,r.jsx)("span",{className:"font-medium",children:b.line.name})]}),b.barcode&&!b.hasFakeBarcode&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:I("product.ean")}),(0,r.jsx)("span",{className:"font-medium",children:b.barcode})]})]}),L.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[(0,r.jsx)("div",{className:"h-1 w-6 bg-primary mr-2"}),I("product.key_features")]}),(0,r.jsx)("ul",{className:"grid gap-2",children:L.map((e,s)=>(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary flex-shrink-0"}),(0,r.jsx)("span",{children:e})]},s))})]})]})]})}),(0,r.jsx)("div",{className:"mt-12",children:(0,r.jsxs)(u.tU,{defaultValue:"prices",children:[(0,r.jsxs)(u.j7,{className:R.Ro?"grid w-full grid-cols-3 rounded-xl":"grid w-full grid-cols-4 rounded-xl",children:[(0,r.jsx)(u.Xi,{value:"prices",className:"rounded-l-xl",children:I("product.tabs.price_comparison")}),(0,r.jsx)(u.Xi,{value:"history",children:I("product.tabs.price_history")}),!R.Ro&&(0,r.jsx)(u.Xi,{value:"comments",children:I("product.tabs.comments")}),(0,r.jsx)(u.Xi,{value:"similar",className:"rounded-r-xl",children:I("product.tabs.similar_products")})]}),(0,r.jsx)(u.av,{value:"prices",className:"mt-6",children:(0,r.jsxs)(m.Zp,{className:"border-2 border-primary/10 rounded-xl",children:[(0,r.jsxs)(m.aR,{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[(0,r.jsx)(m.ZB,{children:I("product.compare_prices")}),(0,r.jsx)(eN,{})]}),(0,r.jsx)(m.Wu,{children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(V,{}),children:(0,r.jsx)(T,{productId:b.id})})})]})}),(0,r.jsx)(u.av,{value:"history",className:"mt-6",children:(0,r.jsxs)(m.Zp,{className:"border-2 border-primary/10 rounded-xl",children:[(0,r.jsx)(m.aR,{children:(0,r.jsx)(m.ZB,{children:I("product.price_history")})}),(0,r.jsx)(m.Wu,{children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(X,{}),children:(0,r.jsx)(A,{productId:b.id})})})]})}),!R.Ro&&(0,r.jsx)(u.av,{value:"comments",className:"mt-6",children:(0,r.jsxs)(m.Zp,{className:"border-2 border-primary/10 rounded-xl",children:[(0,r.jsx)(m.aR,{children:(0,r.jsxs)(m.ZB,{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:I("product.comments_discussion")}),(0,r.jsx)(c.E,{variant:"outline",className:"rounded-full",children:I("product.comments_count",{count:w})})]})}),(0,r.jsx)(m.Wu,{children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(K,{}),children:(0,r.jsx)(H,{productId:b.id})})})]})}),(0,r.jsx)(u.av,{value:"similar",className:"mt-6",children:(0,r.jsxs)(m.Zp,{className:"border-2 border-primary/10 rounded-xl",children:[(0,r.jsx)(m.aR,{children:(0,r.jsx)(m.ZB,{children:I("product.similar_products")})}),(0,r.jsx)(m.Wu,{children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(Y,{}),children:(0,r.jsx)(J,{productId:b.id})})})]})})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[5034,4921,9749,1509,9759,8899,7671,4050,3026,8441,1517,7358],()=>s(14395)),_N_E=e.O()}]);